Add return type to closures based on known return values
